<!DOCTYPE html>
<html>
<head lang="zh-cn">
    <meta charset="UTF-8">
    <!--2.viewport-->
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <!--3.x-ua-compatible-->
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <title></title>
    <link rel="stylesheet" href="css/register.css">
    <link rel="icon" href="images/favicon.ico"/>
    <!--4.引入两个兼容文件-->
    <!--[if lt IE 9]>
        <script src="js/html5shiv.min.js"></script>
        <script src="js/respond.min.js"></script>
    <![endif]-->
    <style>
        @media screen and (min-width:768px) and (max-width:991px){
            #main {
                padding-left:0;
            }
            #main .box{
                margin: 5em auto;
            }
        }
        @media screen and (max-width:767px){
            #main {
                padding:0;
            }
            #main .box{
                width:300px;
                margin: 1.5em auto;
            }
            #main img{
                width:100%;
                height:500px;
            }
        }
    </style>
</head>
<body>

<div class="container" id="main">
    <div class="top">
        <span>凤铭坊</span>
        <a href="index.html"></a>
    </div>
    <img src="img/bg_01.jpg">
    <div class="box">
        <form class="form-horizontal">
            <div class="form-group has-feedback">
                <div class="col-sm-5 col-sm-offset-1 col-xs-12">
                    <span class="glyphicon glyphicon-user form-control-feedback"></span>
                    <input class="form-control" id="uname" placeholder="用户名">
                </div>
                <div class="col-sm-5 col-xs-12">
                    <span class="help-block">用户名可以包含数字或字母</span>
                </div>
            </div>
            <div class="form-group has-feedback">
                <div class="col-sm-5 col-sm-offset-1 col-xs-12">
                    <span class="glyphicon glyphicon-lock form-control-feedback"></span>
                    <input class="form-control" id="upwd" placeholder="密码" type="password">
                </div>
                <div class="col-sm-5 col-xs-12">
                    <span class="help-block">密码长度在6~12位之间</span>
                </div>
            </div>
            <div class="form-group has-feedback">
                <div class="col-sm-5 col-sm-offset-1 col-xs-12">
                    <span class="glyphicon glyphicon-phone form-control-feedback"></span>
                    <input class="form-control" id="uphone" placeholder="手机号码">
                </div>
                <div class="col-sm-5 col-xs-12">
                    <span class="help-block">若忘记密码方便找回密码</span>
                </div>
            </div>
            <div class="form-group has-feedback">
                <div class="col-sm-5 col-sm-offset-1 col-xs-12">
                    <span class="glyphicon glyphicon-envelope form-control-feedback"></span>
                    <input class="form-control" id="uemail" placeholder="邮箱">
                </div>
                <div class="col-sm-5 col-xs-12">
                    <span class="help-block">例XX@qq.com或XX@163.com</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-5 col-sm-offset-1 col-xs-12">
                    <button id="bt-register" class="btn btn-success btn-block" type="button">注册</button>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-5 col-sm-offset-1 col-xs-8">
                    <a href="login.html">已有账号，去登录>></a>
                </div>
            </div>
        </form>
    </div>
</div>

<!--5.引入 jquery,bootstrap js-->
    <script src="js/jquery-1.11.3.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!--引入 bootlint.js 检查各式错误-->
    <script src="js/bootlint.js"></script>
    <script>
        $('#bt-register').click(function(){
            var n=$('#uname').val();
            var p=$('#upwd').val();
            $.ajax({
                type:'POST',
                url:'/register',
                data:{uname:n,upwd:p},
                success:function(result){
                    console.log('成功获取到异步返回的数据');
                    console.log(result);
                    if(result.code===1){
                        alert('注册成功！3s后自动跳转到登录页面...');
                        setTimeout(function(){
                            location.href='login.html';
                        },3000);
                    }else{
                        alert('注册失败！请稍后重试！');
                    }
                }
            })
        })
    </script>
</body>
</html>